<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>국제결혼 이상형 테스트</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --primary-color: #1e3a8a;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      display: flex;
      flex-direction: column;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9f9f9;
      color: #333;
    }
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
    }
    main {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
    }
    #questionContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }
    .back-icon {
      position: absolute;
      top: -0.5rem;
      left: -1rem;
      font-size: 1.8rem;
      color: var(--primary-color);
      cursor: pointer;
    }
    footer {
      background-color: #1e293b;
      color: #fff;
      text-align: center;
      font-size: 0.875rem;
      padding: 1rem 0.5rem;
    }
    footer a {
      color: #cbd5e1;
      text-decoration: none;
    }
    .question-box, .result-box, .summary-text-box, .summary-table {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      max-width: 700px;
    }
    .question-box h3 {
      color: var(--primary-color);
    }
    .answer-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
    .answer-item {
      text-align: center;
      cursor: pointer;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 10px;
      width: 120px;
      transition: all 0.2s ease-in-out;
    }
    .answer-item:hover {
      background-color: #f0f0f0;
    }
    .answer-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
    }
    button {
      margin: 1rem 0.5rem 0;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border: none;
      background-color: var(--primary-color);
      color: white;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #0f265c;
    }
    textarea {
      font-size: 1rem;
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
      width: 100%;
      max-width: 500px;
    }
    .navigation-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>온누리</header>
  <main>
    <div id="quiz-container" class="container">
      <div id="questionContainer" class="question-box mx-auto"></div>
    </div>
  </main>
  <footer>
    <p>문의: <a href="tel:01072161182">010-7216-1182</a></p>
    <p>대표자: 박지선</p>
    <p>&copy; 2025 온누리. All rights reserved.</p>
  </footer>
  <script>
    const questions = [
    {
      q: "상대의 이상적인 키는?",
      a: [
        { label: "151cm ~ 155cm", image: "images/cat.jpg" },
        { label: "156cm ~ 160cm", image: "images/cat.jpg" },
        { label: "161cm ~ 165cm", image: "images/cat.jpg" },
        { label: "166cm ~ 170cm", image: "images/cat.jpg" },
        { label: "170cm 초과", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대의 이상적인 몸무게는?",
      a: [
        { label: "41kg ~ 45kg", image: "images/cat.jpg" },
        { label: "46kg ~ 50kg", image: "images/cat.jpg" },
        { label: "51kg ~ 55kg", image: "images/cat.jpg" },
        { label: "56kg ~ 60kg", image: "images/cat.jpg" },
        { label: "60kg 초과", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대의 이상적인 얼굴형은?",
      a: [
        { label: "강아지상", image: "images/cat.jpg" },
        { label: "고양이상", image: "images/cat.jpg" },
        { label: "토끼상", image: "images/cat.jpg" },
        { label: "여우상", image: "images/cat.jpg" },
        { label: "뱀상", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대의 이상적인 교육수준은?",
      a: [
        { label: "초등학교 이상", image: "images/cat.jpg" },
        { label: "중학교 이상", image: "images/cat.jpg" },
        { label: "고등학교 이상", image: "images/cat.jpg" },
        { label: "대학교 이상", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대 가족의 이상적인 경제력은?",
      a: [
        { label: "빈곤층", image: "images/cat.jpg" },
        { label: "서민층", image: "images/cat.jpg" },
        { label: "중산층", image: "images/cat.jpg" },
        { label: "부유층", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대의 이상적인 직업은?",
      a: [
        { label: "전문직", image: "images/cat.jpg" },
        { label: "서비스업", image: "images/cat.jpg" },
        { label: "전업주부", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" },
        { label: "직접입력", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대와의 이상적인 2세 계획은?",
      a: [
        { label: "1명", image: "images/cat.jpg" },
        { label: "2명", image: "images/cat.jpg" },
        { label: "3명 이상", image: "images/cat.jpg" },
        { label: "딩크족", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
      q: "원하는 거주 국가는?",
      a: [
        { label: "대한민국", image: "images/cat.jpg" },
        { label: "상대국가", image: "images/cat.jpg" },
        { label: "대한민국과 상대국가", image: "images/cat.jpg" },
        { label: "제3국", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
      q: "상대가족과의 동거 가능 여부는?",
      a: [
        { label: "형제 또는 자매만 가능", image: "images/cat.jpg" },
        { label: "부모만 가능", image: "images/cat.jpg" },
        { label: "형제와 부모만 가능", image: "images/cat.jpg" },
        { label: "불가능", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
      q: "본인이 가족과의 동거를 원하나요?",
      a: [
        { label: "형제 또는 남매와 동거", image: "images/cat.jpg" },
        { label: "부모와 동거", image: "images/cat.jpg" },
        { label: "형제와 남매, 부모와 동거", image: "images/cat.jpg" },
        { label: "동거 원치 않음", image: "images/cat.jpg" },
        { label: "무관함", image: "images/cat.jpg" }
      ]
    },
    {
  q: "본인의 흡연 정도는?",
  a: [
    { label: "비흡연", image: "images/cat.jpg" },
    { label: "하루 5개비 이하", image: "images/cat.jpg" },
    { label: "하루 10개비 이하", image: "images/cat.jpg" },
    { label: "하루 한갑 이하", image: "images/cat.jpg" },
    { label: "하루 한갑 이상", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 음주 정도는?",
  a: [
    { label: "금주", image: "images/cat.jpg" },
    { label: "하루 1번 이상", image: "images/cat.jpg" },
    { label: "일주일 1번 이상", image: "images/cat.jpg" },
    { label: "일주일 3번 이상", image: "images/cat.jpg" },
    { label: "일주일 5번 이상", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 경제적 상황은?",
  a: [
    { label: "부동산 소유", image: "images/cat.jpg" },
    { label: "자동차 소유", image: "images/cat.jpg" },
    { label: "부동산과 자동차 소유", image: "images/cat.jpg" },
    { label: "5천 이상 주식", image: "images/cat.jpg" },
    { label: "사치품", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 연수입은?",
  a: [
    { label: "3천 ~ 5천", image: "images/cat.jpg" },
    { label: "5천 ~ 7천", image: "images/cat.jpg" },
    { label: "7천 ~ 1억", image: "images/cat.jpg" },
    { label: "1억 이상", image: "images/cat.jpg" },
    { label: "없음", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 결혼 여부는?",
  a: [
    { label: "미혼", image: "images/cat.jpg" },
    { label: "재혼(3년 미만)", image: "images/cat.jpg" },
    { label: "재혼(5년 미만)", image: "images/cat.jpg" },
    { label: "재혼(5년 이상)", image: "images/cat.jpg" },
    { label: "재혼(10년 이상)", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 혈액형은?",
  a: [
    { label: "A형", image: "images/cat.jpg" },
    { label: "B형", image: "images/cat.jpg" },
    { label: "AB형", image: "images/cat.jpg" },
    { label: "O형", image: "images/cat.jpg" },
    { label: "RH-형", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 MBTI는?",
  a: [
    { label: "ISTJ", image: "images/cat.jpg" },
    { label: "ISFJ", image: "images/cat.jpg" },
    { label: "INFJ", image: "images/cat.jpg" },
    { label: "INTJ", image: "images/cat.jpg" },
    { label: "ISTP", image: "images/cat.jpg" },
    { label: "ISFP", image: "images/cat.jpg" },
    { label: "INFP", image: "images/cat.jpg" },
    { label: "INTP", image: "images/cat.jpg" },
    { label: "ESTP", image: "images/cat.jpg" },
    { label: "ESFP", image: "images/cat.jpg" },
    { label: "ENFP", image: "images/cat.jpg" },
    { label: "ENTP", image: "images/cat.jpg" },
    { label: "ESTJ", image: "images/cat.jpg" },
    { label: "ESFJ", image: "images/cat.jpg" },
    { label: "ENFJ", image: "images/cat.jpg" },
    { label: "ENTJ", image: "images/cat.jpg" },
    { label: "모름", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 취미는?",
  a: [
    { label: "영화", image: "images/cat.jpg" },
    { label: "여행", image: "images/cat.jpg" },
    { label: "스포츠", image: "images/cat.jpg" },
    { label: "드라이브", image: "images/cat.jpg" },
    { label: "맛집탐방", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 특기는?",
  a: null
},
{
  q: "본인의 가족관계는?",
  a: null
},
{
  q: "신체적 참고사항(질병 포함)",
  a: null
},
{
  q: "범죄와 관련된 사항",
  a: null
},
{
  q: "본인의 최종 학력은?",
  a: [
    { label: "초등학교 이상", image: "images/cat.jpg" },
    { label: "중학교 이상", image: "images/cat.jpg" },
    { label: "고등학교 이상", image: "images/cat.jpg" },
    { label: "대학교 이상", image: "images/cat.jpg" },
    { label: "대학원 이상", image: "images/cat.jpg" }
  ]
},
{
  q: "본인의 신체적 특징은?",
  a: null
}
  ];
    let current = 0;
    const answers = [];

    function renderQuestion(index) {
      if (index >= questions.length) {
        renderResult();
        return;
      }

      const question = questions[index];
      const container = document.getElementById("questionContainer");
      container.innerHTML = "";

      if (current > 0) {
        const backIcon = document.createElement("i");
        backIcon.className = "bi bi-arrow-left-circle back-icon";
        backIcon.title = "이전 질문으로 이동";
        backIcon.onclick = goBack;
        container.appendChild(backIcon);
      }

      const title = document.createElement("h3");
      title.textContent = question.q;
      container.appendChild(title);

      if (question.a) {
        const list = document.createElement("div");
        list.className = "answer-list";

        question.a.forEach((answer, i) => {
          const item = document.createElement("div");
          item.className = "answer-item";

          const img = document.createElement("img");
          img.src = answer.image;
          img.alt = answer.label;
          img.className = "answer-image";

          const label = document.createElement("p");
          label.textContent = answer.label;

          item.appendChild(img);
          item.appendChild(label);
          item.addEventListener("click", () => handleAnswer(index, answer.label));

          list.appendChild(item);
        });

        container.appendChild(list);
      } else {
        const textarea = document.createElement("textarea");
        textarea.id = "free-text";
        textarea.placeholder = "자유롭게 입력해주세요.";
        container.appendChild(textarea);

        const nav = document.createElement("div");
        nav.className = "navigation-buttons";

        const next = document.createElement("button");
        next.textContent = "다음";
        next.onclick = () => {
          const text = document.getElementById("free-text").value.trim();
          handleAnswer(index, text || "응답 없음");
        };

        nav.appendChild(next);
        container.appendChild(nav);
      }
    }

    function handleAnswer(index, answerText) {
      answers[index] = { question: questions[index].q, answer: [answerText] };
      current = index + 1;
      renderQuestion(current);
    }

    function goBack() {
      if (current > 0) {
        current--;
        renderQuestion(current);
      }
    }

    function renderResult() {
      const container = document.getElementById("quiz-container");
      const traits = answers.flatMap(a => a.answer).join(' ');

      let summaryText = `<div class='result-box'><h3>답변 요약</h3><p>아래는 사용자의 주요 성향을 정리한 내용입니다.</p></div>`;
      let profileSummary = `<div class='summary-text-box'><h3>사용자 성향 요약</h3>`;

      const positives = [];
      const suggestions = [];

      if (traits.match(/151cm|155cm|160cm/)) positives.push("아담한 체형의 상대를 선호합니다.");
  if (traits.match(/170cm 초과/)) positives.push("키가 큰 상대를 선호합니다.");
  if (traits.match(/41kg|45kg|50kg/)) positives.push("슬림한 체형을 선호합니다.");
  if (traits.match(/60kg 초과/)) positives.push("건강한 체형에 대해 긍정적인 시각을 가집니다.");
  if (traits.match(/강아지상|토끼상/)) positives.push("귀엽고 친근한 인상을 선호합니다.");
  if (traits.match(/여우상|뱀상/)) positives.push("도도하거나 카리스마 있는 인상에 끌리는 편입니다.");
  if (traits.match(/대학교 이상|대학원 이상/)) positives.push("높은 학력에 대한 기대가 있습니다.");
  if (traits.includes("중산층")) positives.push("상대 가족의 안정적인 경제 상황을 선호합니다.");
  if (traits.includes("전문직")) positives.push("전문적인 직업에 대한 선호가 강합니다.");
  if (traits.includes("딩크족")) positives.push("자녀 없이 자유로운 삶을 추구할 수 있습니다.");
  if (traits.includes("제3국")) positives.push("유연한 국제적 거주를 고려하는 성향입니다.");
  if (traits.includes("불가능")) suggestions.push("가족과의 동거에 대해 조금 더 열린 마음을 가져보는 것도 좋습니다.");
  if (traits.includes("비흡연")) positives.push("건강을 중요하게 생각합니다.");
  if (traits.includes("한갑 이상")) suggestions.push("흡연 습관은 건강을 위해 조절할 필요가 있습니다.");
  if (traits.includes("금주")) positives.push("절제된 생활습관을 가지고 있습니다.");
  if (traits.includes("부동산과 자동차")) positives.push("경제적으로 자립도가 높은 편입니다.");
  if (traits.includes("1억원 이상")) positives.push("높은 연수입을 기록하고 있습니다.");
  if (traits.includes("재혼")) positives.push("인생 경험이 풍부하며 현실적인 시각을 가졌습니다.");
  if (traits.includes("A형")) positives.push("세심하고 조심스러운 성격입니다.");
  if (traits.includes("O형")) positives.push("외향적이고 사교적인 성향입니다.");
  if (traits.includes("INFJ") || traits.includes("INTJ")) positives.push("계획적이고 내성적인 경향이 있습니다.");
  if (traits.includes("ENFP") || traits.includes("ESFP")) positives.push("에너지가 넘치고 사람들과 어울리는 것을 좋아합니다.");
  if (traits.includes("여행") || traits.includes("드라이브")) positives.push("활동적이고 외부 활동을 선호합니다.");
  if (traits.includes("맛집탐방")) positives.push("소소한 즐거움을 아는 생활형 취미가 있습니다.");

      if (positives.length > 0) {
        profileSummary += `<p><strong>긍정적인 성향:</strong><br>${positives.map(t => `• ${t}`).join('<br>')}</p>`;
      }
      if (suggestions.length > 0) {
        profileSummary += `<p><strong>노력이 필요한 부분:</strong><br>${suggestions.map(t => `• ${t}`).join('<br>')}</p>`;
      }
      profileSummary += `</div>`;

      let tableHTML = `<div class='summary-table'><h3>응답 내용 요약</h3><table class='table'><thead><tr><th>질문</th><th>답변</th></tr></thead><tbody>`;
      answers.forEach(a => {
        tableHTML += `<tr><td>${a.question}</td><td>${a.answer.join(', ')}</td></tr>`;
      });
      tableHTML += `</tbody></table></div>`;

      container.innerHTML = summaryText + profileSummary + tableHTML;
    }

    window.onload = () => renderQuestion(current);
  </script>
</body>
</html>
